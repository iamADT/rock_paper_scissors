<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors Game</title>
    </head>
    <body>
        <h3>Please Make a Selection</h3>
        <section id="playerOptions">
                <button class="button">rock</button>
                <button class="button">paper</button>
                <button class="button">scissors</button>
        </section>
        <section>
            <p>Your selection is: <span id="choicePrint"></span></p>
            <button id="submit">Submit</button>
            <p id="outcome"></p>
        </section>
        <section>
            <h3>Score Board</h3>
            <p>Player Score: <span id="playerScore"></span></p>
            <p>Computer Score: <span id="computerScore"></span></p>
            <p>Tie: <span id="tie"></span></p>
        </section>
        
    </body>
    <script>

        // Creates a random selection for the computer
        function getComputerChoice (){
            let randomNumber = Math.floor(Math.random() * 3) + 1;
            let randomObject;
            if (randomNumber == 1){
                randomObject = "rock";
            }
            else if (randomNumber == 2){
                randomObject = "scissors";
            }
            else {
                randomObject = "paper";
            }
            return randomObject;
        }

        // Registers the players selection
        let playerSelection;
        let submit = document.querySelector('#submit');
        let choicePrint = document.querySelector('#choicePrint');
        let playerOptions = document.querySelector('#playerOptions');
        let computerScore = 0;
        let playerScore = 0;
        let scoreTie = 0;
        

        
        function usersChoice(event) {
            choicePrint.textContent = event.target.textContent;
            playerSelection = choicePrint.textContent;
            return playerSelection;
        }
        playerOptions.addEventListener('click', () => {
            choicePrint.textContent = event.target.textContent;
            playerSelection = choicePrint.textContent;
            return playerSelection;
        });

        function scoreBoard(){
            if (result == "You win"){
                console.log(`Your Score = ${playerScore}`)
            }
            else if (result == "Computer wins") {
                console.log(`Computer's Score = ${computerScore}`);
            }
            else{
                console.log(`Tie = ${scoreTie}`)
            }
        }


        submit.addEventListener('click', () => {
            singleRound();
            scoreBoard();
            if (playerScore == 5 || computerScore == 5 || scoreTie == 5){
                console.log("Game of 5 over")
                computerScore = 0;
                playerScore = 0;
                scoreTie = 0;
            }
        });


        //user makes a selection
        //user clicks submit and plays round one
        //selection clears
        // user makes another selection
        //clicks submit and plays round 2
        //selection clears
        //Until game 5

        // Plays a single round with the computer and player
        let computerSelection;
        let result;
        function singleRound(playerChoice, computerSelection){
            computerSelection = getComputerChoice();
            playerChoice = playerSelection;

            // If player selects cancel
            if (playerSelection == null) {
                return;
            }

            // If it is a tie
            else if (playerSelection == computerSelection){
                result = "It's a tie"
                scoreTie += 1;
            }

            //Rock Comparisons
            else if (playerSelection == "rock" && computerSelection == "paper"){
                result = "Computer wins";
                computerScore += 1;
            }
            else if (playerSelection == "rock" && computerSelection == "scissors"){
                result = "You win";
                playerScore += 1;
            }

            //Paper Comparisons
            else if (playerSelection == "paper" && computerSelection == "rock"){
                result = "You win";
                playerScore += 1;
            }
            else if (playerSelection == "paper" && computerSelection == "scissors"){
                result = "Computer wins";
                computerScore += 1;
            }

            //Scissor Comparisons
            else if (playerSelection == "scissors" && computerSelection == "rock"){
                result = "Computer wins";
                computerScore += 1;
            }
            else if (playerSelection == "scissors" && computerSelection == "paper"){
                result = "You win";
                playerScore += 1;
            }

            else{
                result = "Something went wrong. Please try again or refresh.";
            }
            console.log(result);
            return result;
        }

        function gameOfFive(){
            for (let i = 0; i < 5; i++){
            let outcome = document.querySelector('#outcome');
            outcome.textContent += `round ${[i]} =  ${result}`
        }
        submit.addEventListener('click', singleRound)
        }

        






        
        

        // let winnerofRound;
        // let computerScore = 0;
        // let playerScore = 0;
        // let scoreTie = 0;

        //Function for a game of 5 with the computer and player
        // function game (){
        //     for (let i = 0; i < 5; i++){
        //         choicePrint.textContent = '';
        //         playerOptions.addEventListener('click', usersChoice);
        //         winnerofRound = singleRound();
                
        //         if (winnerofRound == undefined)
        //         {
        //             console.log("You cancelled the game.")
        //             break;
        //         }
        //         else{
        //             console.log(winnerofRound);
        //         }

        //         //Scores of the game
        //         if (winnerofRound == "Computer wins"){
        //             computerScore = computerScore + 1;
        //         }
        //         else if (winnerofRound == "You win"){
        //             playerScore = playerScore + 1;
        //         }
        //         else {scoreTie = scoreTie + 1}
        //     }
        // }

        // //Game Results
        // if (playerScore > computerScore) {
        //     console.log("You won the game of 5");
        //     }
        // else if (computerScore > playerScore) {
        //     console.log("Computer won the game of 5");
        // }
        // else {
        //     "it's a tie in a game of 5"
        // }

    </script>
</html>